<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>串接後渲染</title>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.3/axios.min.js"
      integrity="sha512-0qU9M9jfqPw6FKkPafM3gy2CBAvUWnYVOfNPDYKVuRTel1PrciTj+a9P3loJB+j0QmN2Y0JYQmkBBS8W+mbezg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body>
    <h1></h1>
    <script>
      const CORS = "https://cors-anywhere.herokuapp.com/";
      const dataUrl =
        "https://gis.taiwan.net.tw/XMLReleaseALL_public/scenic_spot_C_f.json";

      let dataStore = []; //要用 let 宣告裝填資料

      axios
        .get(CORS + dataUrl)
        .then((res) => {
          console.log(res); //抓到資料
          console.log(res.data.XML_Head.Infos.Info); //抓到要顯示資料的陣列
          dataStore = res.data.XML_Head.Infos.Info; //把資料裝填
          renderData(); //執行取得資料後要做的事
        })
        .catch((err) => {
          console.log(err.response);
        });

      function renderData() {
        console.log(`進入renderData函式`);
        console.log(dataStore);
      }
    </script>
  </body>
</html>
